---
layout: single
title: Day 45 Deque
---

Deque는 Double Ended Queue 의 약자로 말 그대로 앞, 뒤로도 넣고 뺄 수 있는 자료구조이다.

경우의 수는 4가지로

-앞으로 넣고 앞으로 뺀다.
-앞으로 넣고 뒤로 뺀다.
-뒤로 넣고 앞으로 뺀다.
-뒤로 넣고 뒤로 뺀다.


아래는 헤더 파일과 소스코드이다.


Deque.h

```{.cpp}
typedef struct _node {
	int data;
	struct _node* next;
	struct _node* prev;
}Node;

typedef struct _dlDeque {
	Node* head;
	Node* tail;
}Deque;

void DequeInit(Deque * pdeq);
int DQIsEmpty(Deque* pdeq);

void DQAddFirst(Deque* pdeq, int data);
void DQAddLast(Deque* pdeq, int data);

int DQRemoveFirst(Deque* pdeq);
int DQRemoveLast(Deque* pdeq);

int DQGetFirst(Deque* pdeq);
int DQGetLast(Deque* pdeq);
```


Deque.cpp

```{.cpp}
#include <stdio.h>
#include <stdlib.h>
#include "Deque.h"

void DequeInit(Deque* pdeq) {
	pdeq->head = NULL;
	pdeq->tail = NULL;
}

int DQIsEmpty(Deque* pdeq) {
	if (pdeq->head == NULL)
		return true;
	else
		return false;
}

void DQAddFirst(Deque* pdeq, int data) {
	Node* newNode = (Node*)malloc(sizeof(Node));
	newNode->data = data;

	newNode->next = pdeq->head;

	if (DQIsEmpty(pdeq))
		pdeq->tail = newNode;
	else
		pdeq->head->prev = newNode;

	newNode->prev = NULL;
	pdeq->head = newNode;

}

void DQAddLast(Deque* pdeq, int data) {
	Node* newNode = (Node*)malloc(sizeof(Node));
	newNode->data = data;

	newNode->prev = pdeq->tail;

	if (DQIsEmpty(pdeq))
		pdeq->tail = newNode;
	else
		pdeq->tail->next = newNode;

	newNode->next = NULL;
	pdeq->tail = newNode;
}

int DQRemoveFirst(Deque* pdeq) {
	Node* rnode = pdeq->head;
	

	if (DQIsEmpty(pdeq)) {
		printf("텅 빔\n");
		exit(-1);
	}
	int rdata = pdeq->head->data;
	pdeq->head = pdeq->head->next;
	free(rnode);

	if (pdeq->head == NULL)
		pdeq->tail = NULL;
	else
		pdeq->head->prev = NULL;

	return rdata;
}
int DQRemoveLast(Deque* pdeq) {
	Node* rnode = pdeq->tail;

	if (DQIsEmpty(pdeq)) {
		printf("텅 빔\n");
		exit(-1);
	}
	int rdata = pdeq->tail->data;

	pdeq->tail = pdeq->tail->prev;
	free(rnode);

	if (pdeq->tail == NULL)
		pdeq->head = NULL;
	else
		pdeq->tail->next = NULL;

	return rdata;

}

int DQGetFirst(Deque* pdeq) {
	if (DQIsEmpty(pdeq)) {
		printf("텅 빔\n");
		exit(-1);
	}

	return pdeq->head->data;
}
int DQGetLast(Deque* pdeq){
	if (DQIsEmpty(pdeq)) {
		printf("텅 빔\n");
		exit(-1);
	}
	return pdeq->tail->data;
}
```


DequeMain.cpp
```{.cpp}
#include<stdio.h>
#include"Deque.h"

int main() {
	Deque deq;
	DequeInit(&deq);

	DQAddFirst(&deq, 3);
	DQAddFirst(&deq, 2);
	DQAddFirst(&deq, 1);

	DQAddLast(&deq, 4);
	DQAddLast(&deq, 5);
	DQAddLast(&deq, 6);

	while (!DQIsEmpty(&deq))
		printf("%d ", DQRemoveFirst(&deq));

	printf("\n");

	DQAddFirst(&deq, 3);
	DQAddFirst(&deq, 2);
	DQAddFirst(&deq, 1);

	DQAddLast(&deq, 4);
	DQAddLast(&deq, 5);
	DQAddLast(&deq, 6);

	while (!DQIsEmpty(&deq))
		printf("%d ", DQRemoveLast(&deq));
}
```
